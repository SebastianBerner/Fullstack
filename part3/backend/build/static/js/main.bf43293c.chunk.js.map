{"version":3,"sources":["components/DeleteButton.js","components/Persons.js","components/Rows.js","components/SubmitButton.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["DeleteButton","props","onClick","onRemove","person","Persons","id","people","name","number","Rows","persons","map","key","SubmitButton","type","baseUrl","axios","get","then","response","data","newObject","post","deleteObject","delete","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","errorMessage","setErrorMessage","useEffect","console","log","personService","initialPersons","onSubmit","event","preventDefault","Object","values","x","includes","window","alert","concat","setTimeout","value","onChange","target","findPers","find","confirm","ReactDOM","render","document","getElementById"],"mappings":"6OAWeA,EATM,SAACC,GAClB,OACI,6BACE,4BAAQC,QAAS,kBAAMD,EAAME,SAASF,EAAMG,UAA5C,YCOOC,EATD,SAACJ,GACb,OACE,yBAAKK,GAAG,UACN,gCAAML,EAAMM,OAAOC,KAAnB,IAA0BP,EAAMM,OAAOE,OAAvC,KACA,kBAAC,EAAD,CAAcL,OAAQH,EAAMM,OAAOC,KAAML,SAAUF,EAAME,aCQlDO,EAZF,SAACT,GAEV,OAFoB,iBACAA,GAEXU,QAAQC,KAAI,SAAAR,GAAM,OACvB,kBAAC,EAAD,CACIS,IAAKT,EAAOI,KACZD,OAAQH,EACRD,SAAUF,EAAME,eCAbW,EARM,WACjB,OACI,6BACE,4BAAQC,KAAK,UAAb,S,gBCHJC,EAAU,2DAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EALA,SAACG,GAEZ,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,EAAalB,KACzCa,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCR5BK,EAXI,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACK,KAIP,yBAAKC,UAAU,SACZD,ICmGME,EAtGH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRnB,EADQ,KACCoB,EADD,OAEgBD,mBAAS,IAFzB,mBAERE,EAFQ,KAECC,EAFD,OAGoBH,mBAAS,IAH7B,mBAGRI,EAHQ,KAGGC,EAHH,OAI0BL,mBAAS,MAJnC,mBAIRM,EAJQ,KAIMC,EAJN,KAOhBC,qBAAU,WACRC,QAAQC,IAAI,UACZC,IAEGtB,MAAK,SAAAuB,GACJH,QAAQC,IAAI,qBACZT,EAAWW,QAEd,IAwDH,OACE,6BACE,yCAEA,kBAAC,EAAD,CAAcf,QAASS,IAEvB,0BAAMO,SApDQ,SAACC,GAGjB,GAFAA,EAAMC,iBACQC,OAAOC,OAAOpC,GAASC,KAAI,SAAAoC,GAAC,OAAIA,EAAExC,QACtCyC,SAASjB,GACjB,OAAOkB,OAAOC,MAAMnB,EAAU,mCAOhCS,EAJkB,CAChBjC,KAAMwB,EACNvB,OAAQyB,IAIPf,MAAK,SAAAf,GACJ2B,EAAWpB,EAAQyC,OAAOhD,IAC1BiC,EAAgB,SAAD,OACJjC,EAAOI,OAElB6C,YAAW,WACThB,EAAgB,QACf,KACHJ,EAAW,IACXE,EAAa,SA+Bb,sCACQ,2BACJmB,MAAOtB,EACPuB,SAhES,SAACX,GAClBX,EAAWW,EAAMY,OAAOF,WAkEpB,wCACU,2BACNA,MAAOpB,EACPqB,SAlEW,SAACX,GACpBT,EAAaS,EAAMY,OAAOF,WAoEtB,6BACE,kBAAC,EAAD,QAGJ,uCACA,4BACE,kBAAC,EAAD,CAAM3C,QAASA,EAASR,SA5CT,SAACK,GACpB,IAAMiD,EAAW9C,EAAQ+C,MAAK,SAAAtD,GAAM,OAAIA,EAAOI,OAASA,KACrD0C,OAAOS,QAAQ,mCAAoCnD,IACpDiC,EACUgB,GACPtC,MAAK,kBAAMsB,IAAuBtB,MAAK,SAAA6B,GACtCT,QAAQC,IAAI,SAAUQ,GACtBjB,EAAWiB,GACXX,EAAgB,WAAD,OACF7B,IAEb6C,YAAW,WACThB,EAAgB,QACf,iBCjEbuB,IAASC,OACL,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.bf43293c.chunk.js","sourcesContent":["import React from 'react'\n\nconst DeleteButton = (props) => {\n    return(\n        <div>\n          <button onClick={() => props.onRemove(props.person)}>\n              delete</button>\n        </div>\n    )\n}\n\nexport default DeleteButton","import React from 'react'\nimport DeleteButton from './DeleteButton'\n\nconst Persons = (props) => {\n    return(\n      <div id=\"parent\">\n        <li> {props.people.name} {props.people.number} </li>\n        <DeleteButton person={props.people.name} onRemove={props.onRemove}/>\n      </div>\n    )\n  }\n\n  export default Persons","import React from 'react'\nimport Persons from './Persons'\n\nconst Rows = (props) => {\n    const { ...list } = props\n    return(\n        list.persons.map(person =>  \n        <Persons\n            key={person.name}\n            people={person}\n            onRemove={props.onRemove}\n        />)\n    )\n        }\n\nexport default Rows","import React from 'react'\n\nconst SubmitButton = () => {\n    return(\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n    )\n}\n\nexport default SubmitButton","import axios from 'axios'\n\nconst baseUrl = 'https://fierce-anchorage-60216.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (deleteObject) => {\n    const request = axios.delete(`${baseUrl}/${deleteObject.id}`)\n    return request.then(response => response.data)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  remove: remove,\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Rows from './components/Rows'\nimport SubmitButton from './components/SubmitButton'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        console.log('promise fulfilled')\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const names = Object.values(persons).map(x => x.name)\n    if (names.includes(newName)) {\n      return window.alert(newName + ' is already added to phonebook!')\n    }\n    else {\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    personService\n      .create(newPerson)\n      .then(person => {\n        setPersons(persons.concat(person))\n        setErrorMessage(\n          `Added ${person.name}`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n  }\n}\n\n  const removePerson = (name) => {\n    const findPers = persons.find(person => person.name === name)\n    if(window.confirm(\"Are you sure you want to delete \", name)) {\n      personService\n        .remove(findPers)\n        .then(() => personService.getAll().then(x => {\n          console.log(\"x is: \", x)\n          setPersons(x)\n          setErrorMessage(\n            `Deleted ${name}`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        }))\n      }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={errorMessage} />\n\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input \n            value={newName}\n            onChange={handleName}\n          />\n        </div>\n        <div>\n          number: <input\n            value={newNumber}\n            onChange={handleNumber}\n          />\n        </div>\n        <div>\n          <SubmitButton />\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <ul>\n        <Rows persons={persons} onRemove={removePerson}/>\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}